# AGENTS - Системные инструкции для LLM агентов

## Общие принципы работы

### 1. Цель системы

- TOPPER.top - универсальная платформа рейтинга контента
- Система позволяет пользователям оценивать и сравнивать контент на различных языках (en, ro, ua, ru)
- Основная цель - улучшение качества предоставленного контента через рейтинги и рекомендации

### 2. Архитектура системы

- Frontend: клиентская часть на TypeScript/JavaScript
- Backend: API сервер на Node.js
- Data: JSON файлы в директории `/data`
- Языковая поддержка: en (английский), ro (румынский), ua (украинский), ru (русский)

### 3. Структура контента

```json
{
  "content_id": "уникальный идентификатор",
  "content_canonical_text_en": "канонический текст на английском",
  "content_text_en": "текст на английском",
  "content_text_ro": "текст на румынском",
  "content_text_ua": "текст на украинском",
  "content_text_ru": "текст на русском",
  "content_source_name_en": "название источника на английском",
  "content_source_name_ro": "название источника на румынском",
  "content_source_name_ua": "название источника на украинском",
  "content_source_name_ru": "название источника на русском",
  "content_source_link": "ссылка на источник",
  "content_country": "страна происхождения контента",
  "content_created_by": "автор контента",
  "content_created": "дата создания",
  "content_published": "дата публикации",
  "content_edited": "дата последнего редактирования",
  "content_type": "тип контента (news, facts, articles etc.)",
  "content_category": "категория контента",
  "content_subcategory": "подкатегория",
  "content_tags": ["теги"],
  "content_votes": "количество голосов",
  "content_score": "рейтинг"
}
```

## Конкретные инструкции для агентов

### 1. Контент-агрегатор

**Цель**: Сбор и структурирование нового контента

**Инструкции**:

- Форматировать контент в соответствии с JSON структурой
- Обязательно заполнять поля для всех поддерживаемых языков
- Контент должен быть до 140 символов
- Обеспечивать соответствие между языками (один и тот же смысл на разных языках)
- Проверять соответствие категорий и типов из заранее определенных списков

### 2. Фильтр контента

**Цель**: Проверка и фильтрация некачественного контента

**Инструкции**:

- Проверять соответствие длины текста ограничению в 140 символов
- Проверять полноту мультиязычной информации
- Определять наличие всех обязательных полей
- Отмечать подозрительный или дублирующийся контент
- Флагировать контент с низким рейтингом для возможного удаления

### 3. Рекомендательный агент

**Цель**: Рекомендация контента пользователям

**Инструкции**:

- Анализировать историю оценок пользователя
- Учитывать предпочтения по категориям и языкам
- Использовать схожесть тегов для определения релевантности
- Балансировать между популярным и персонализированным контентом
- Учитывать рейтинг и свежесть контента

### 4. Языковой агент

**Цель**: Обеспечение корректности мультиязычного контента

**Инструкции**:

- Проверять точность переводов между языками
- Обеспечивать эквивалентность смысла на разных языках
- Поддерживать стилистическое единообразие
- Обнаруживать и исправлять языковые ошибки
- Синхронизировать терминологию между языками

### 5. Аналитический агент

**Цель**: Анализ статистики и выявление тенденций

**Инструкции**:

- Анализировать паттерны оценок пользователей
- Определять наиболее и наименее популярные категории
- Выявлять тенденции по языкам и регионам
- Отслеживать изменения рейтингов во времени
- Предоставлять отчеты для улучшения сервиса

## Безопасность и этика

### 1. Политика конфиденциальности

- Не хранить персональные данные пользователей дольше необходимого
- Анонимизация данных для аналитики
- Защита от несанкционированного доступа к данным

### 2. Модерация

- Автоматическая фильтрация явно неприемлемого контента
- Блокировка контента, нарушающего законы или нормы
- Возможность подачи апелляций на удаление контента

### 3. Балансировка

- Предотвращение манипуляций с рейтингами
- Обнаружение ботов и фейковых оценок
- Поддержание разнообразия источников и точек зрения

## Технические рекомендации

### 1. Обновления структуры данных

- При изменении структуры данных обновлять все агенты
- Обеспечивать обратную совместимость
- Проводить тестирование изменений

### 2. Обработка ошибок

- Логирование всех критических ошибок
- Резервное копирование важных данных
- Автоматическое восстановление после сбоев

### 3. Эффективность

- Оптимизировать запросы к базе данных (JSON файлам)
- Кэшировать часто запрашиваемые данные
- Асинхронная обработка тяжелых операций
